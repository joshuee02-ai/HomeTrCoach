 <!DOCTYPE html>
 <html lang="ko">
 <head>
-  <link rel="manifest" href="manifest.json">
-  <meta name="theme-color" content="#000000">
-  <link rel="icon" href="icon.png">
-  <meta property="og:title" content="Ï†êÏã¨Î©îÎâ¥ Î£∞Î†õ">
-  <meta property="og:description" content="Ïò§ÎäòÏùò Ï†êÏã¨Î©îÎâ¥Î•º Ïû¨ÎØ∏ÏûàÍ≤å ÏÑ†ÌÉùÌï¥Î≥¥ÏÑ∏Ïöî!">
-  <meta property="og:image" content="og_image.png">
-  <meta property="og:type" content="website">
-  <meta property="og:url" content="https://joshuee2.github.io/lunch/">
-  <meta name="apple-mobile-web-app-capable" content="yes">
-  <meta name="apple-mobile-web-app-title" content="Ï†êÏã¨Î©îÎâ¥ Î£∞Î†õ">
-  <link rel="apple-touch-icon" href="icon.png">
-  <meta charset="UTF-8">
-  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
-  <title>Ï†êÏã¨Î©îÎâ¥ Î£∞Î†õ</title>
+  <meta charset="UTF-8" />
+  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
+  <meta name="theme-color" content="#123524" />
+  <meta name="apple-mobile-web-app-capable" content="yes" />
+  <meta name="apple-mobile-web-app-title" content="40+ Îß®ÏÜê Ïö¥Îèô" />
+  <meta property="og:title" content="40-50 ÎÇ®ÏÑ± ÌôàÌä∏ ÏΩîÏπò" />
+  <meta property="og:description" content="ÏöîÏùºÎ≥Ñ Î∂ÄÏúÑ Ïö¥Îèô + ÏôÑÎ£å Î≥¥ÏÉÅ ÏòÅÏñ¥ ÌöåÌôî" />
+  <meta property="og:image" content="./og_image.png" />
+  <meta property="og:type" content="website" />
+  <meta property="og:url" content="./" />
+  <link rel="manifest" href="manifest.json" />
+  <link rel="icon" href="icon.png" />
+  <link rel="apple-touch-icon" href="icon.png" />
+  <title>40-50 ÎÇ®ÏÑ± ÌôàÌä∏ ÏΩîÏπò</title>
   <style>
-    html, body {
+    :root {
+      --card: #ffffff;
+      --primary: #123524;
+      --accent: #3e7b4a;
+      --text: #1f2a24;
+      --muted: #5f6c65;
+      --line: #dce5dd;
+      --safe-bottom: env(safe-area-inset-bottom, 0px);
+    }
+
+    * { box-sizing: border-box; }
+
+    body {
       margin: 0;
-      padding: 0;
-      width: 100%;
-      height: 100%;
-      overflow-x: hidden;
-      background: #f2f2f2;
-      font-family: 'Arial', sans-serif;
+      background: linear-gradient(180deg, #edf5ef 0%, #f8faf7 100%);
+      color: var(--text);
+      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
+      min-height: 100vh;
+      line-height: 1.45;
     }
-    h1 {
-      font-size: 6vw;
-      margin: 4vw 0 2vw;
-      color: #333;
-      text-align: center;
-    }
-    .wheel-container {
-      position: relative;
-      width: 100vw;
-      max-width: 400px;
+
+    .app {
+      max-width: 560px;
       margin: 0 auto;
+      display: grid;
+      gap: 12px;
+      padding: 14px 14px calc(94px + var(--safe-bottom));
+    }
+
+    .card {
+      background: var(--card);
+      border: 1px solid var(--line);
+      border-radius: 16px;
+      padding: 14px;
+      box-shadow: 0 8px 24px rgba(18, 53, 36, 0.08);
+    }
+
+    h1 {
+      margin: 0;
+      font-size: clamp(22px, 6vw, 30px);
+      line-height: 1.3;
+      letter-spacing: -0.2px;
+      word-break: keep-all;
+    }
+
+    .subtitle {
+      margin: 8px 0 0;
+      color: var(--muted);
+      font-size: 14px;
+      word-break: keep-all;
+    }
+
+    .day-badge {
+      display: inline-flex;
+      align-items: center;
+      gap: 6px;
+      max-width: 100%;
+      background: #e8f3ea;
+      color: #205335;
+      border: 1px solid #cfe2d2;
+      border-radius: 999px;
+      padding: 7px 12px;
+      font-size: 13px;
+      font-weight: 700;
+      margin-top: 12px;
+      white-space: nowrap;
+      overflow: hidden;
+      text-overflow: ellipsis;
+    }
+
+    .goal {
+      margin-top: 12px;
+      border-radius: 12px;
+      background: #f7fbf7;
+      border: 1px solid #deebdf;
+      padding: 12px;
+    }
+
+    .goal h2 {
+      margin: 0 0 8px;
+      font-size: 19px;
+    }
+
+    .progress-wrap {
+      margin: 10px 0 12px;
+    }
+
+    .progress-row {
+      display: flex;
+      justify-content: space-between;
+      font-size: 13px;
+      color: var(--muted);
+      margin-bottom: 6px;
+    }
+
+    .progress {
+      width: 100%;
+      height: 8px;
+      border-radius: 999px;
+      border: 0;
+      overflow: hidden;
+      background: #dce8de;
+    }
+
+    .progress::-webkit-progress-bar { background: #dce8de; }
+    .progress::-webkit-progress-value { background: var(--accent); }
+    .progress::-moz-progress-bar { background: var(--accent); }
+
+    .goal ul {
+      margin: 0;
+      padding-left: 0;
+      list-style: none;
+      display: grid;
+      gap: 8px;
     }
-    #wheel {
-      width: 95%;
-      height: auto;
-      border-radius: 50%;
-      border: 4px solid #ccc;
-      transform-origin: center center;
-    }
-    .arrow {
-      width: 0;
-      height: 0;
-      border-top: 1.2vw solid transparent;
-      border-bottom: 1.2vw solid transparent;
-      border-right: 2.4vw solid black;
-      position: absolute;
-      top: 50%;
-      left: calc(100% - 12px);
-      transform: translateY(-50%);
-      z-index: 10;
-    }
-    #controls {
+
+    .goal li {
       display: flex;
-      flex-direction: column;
       align-items: center;
-      margin-top: 5vw;
+      gap: 10px;
+      border: 1px solid #e2ebe3;
+      border-radius: 10px;
+      background: #ffffff;
+      padding: 9px 10px;
+      font-size: 14px;
     }
-    #spinBtn, #addMenuBtn {
-      margin: 1vw;
-      padding: 3vw 6vw;
-      font-size: 4vw;
-      background-color: black;
-      color: white;
-      border: none;
-      border-radius: 2vw;
+
+    .goal input[type="checkbox"] {
+      inline-size: 21px;
+      block-size: 21px;
+      accent-color: var(--accent);
+      flex: none;
+    }
+
+    .goal label {
+      flex: 1;
+      word-break: keep-all;
       cursor: pointer;
     }
-    #menuInput {
-      padding: 3vw;
-      font-size: 4vw;
-      width: 70vw;
-      margin-top: 2vw;
-      border: 1px solid #ccc;
-      border-radius: 2vw;
+
+    .goal input[type="checkbox"]:checked + label {
+      text-decoration: line-through;
+      color: #728078;
     }
-    #popup {
+
+    .small {
+      font-size: 13px;
+      color: var(--muted);
+      margin: 10px 0 0;
+      word-break: keep-all;
+    }
+
+    .actions {
       position: fixed;
-      top: 0; left: 0; right: 0; bottom: 0;
-      background: rgba(0, 0, 0, 0.7);
-      display: flex;
-      align-items: center;
-      justify-content: center;
-      visibility: hidden;
-      z-index: 1000;
-    }
-    #popupContent {
-      background: white;
-      padding: 6vw;
-      border-radius: 3vw;
-      text-align: center;
-      width: 80vw;
-    }
-    #popupContent h2 {
-      font-size: 5vw;
-      margin: 0 0 3vw;
-    }
-    #popupContent button {
-      padding: 3vw 6vw;
-      font-size: 4vw;
-      background-color: black;
-      color: white;
+      left: 0;
+      right: 0;
+      bottom: 0;
+      padding: 10px 14px calc(10px + var(--safe-bottom));
+      background: linear-gradient(180deg, rgba(244, 247, 242, 0.6), #f4f7f2 22%);
+      backdrop-filter: blur(4px);
+    }
+
+    .actions-inner {
+      max-width: 560px;
+      margin: 0 auto;
+      display: grid;
+      gap: 8px;
+    }
+
+    .btn {
+      width: 100%;
+      min-height: 48px;
       border: none;
-      border-radius: 2vw;
+      border-radius: 12px;
+      padding: 12px 14px;
+      font-size: 16px;
+      font-weight: 700;
       cursor: pointer;
+      touch-action: manipulation;
     }
-    .confetti {
-      position: fixed;
-      width: 8px;
-      height: 8px;
-      background-color: red;
-      z-index: 2000;
-      animation: fall 1.5s ease-out forwards;
-    }
-    @keyframes fall {
-      to {
-        transform: translateY(100vh) rotate(720deg);
-        opacity: 0;
-      }
+
+    .btn-primary {
+      background: var(--primary);
+      color: white;
     }
-    .burst {
-      position: fixed;
-      width: 10px;
-      height: 10px;
-      border-radius: 50%;
-      background: yellow;
-      animation: burst 800ms ease-out forwards;
-      z-index: 2000;
+
+    .btn-primary:disabled {
+      background: #8aa195;
+      cursor: not-allowed;
+    }
+
+    .btn-secondary {
+      background: #edf3ed;
+      color: var(--primary);
+      border: 1px solid #d7e4d8;
+    }
+
+    .reward {
+      display: none;
+      border-left: 4px solid var(--accent);
+      padding: 12px;
+      background: #f5fbf6;
+      border-radius: 10px;
+      margin-top: 12px;
+    }
+
+    .reward.show { display: block; }
+
+    .dialogue {
+      margin: 8px 0 0;
+      padding-left: 18px;
+      display: grid;
+      gap: 6px;
+      font-size: 14px;
+    }
+
+    .status {
+      margin-top: 10px;
+      font-size: 14px;
+      font-weight: 700;
+      color: var(--accent);
+      word-break: keep-all;
     }
-    @keyframes burst {
-      0% { transform: scale(1); opacity: 1; }
-      100% { transform: scale(4); opacity: 0; }
+
+    @media (min-width: 700px) {
+      .actions { position: static; padding: 0; background: transparent; backdrop-filter: none; }
+      .app { padding-bottom: 18px; }
     }
   </style>
 </head>
 <body>
-  <h1>LUNCH MENU ROULETTE</h1>
-  <div class="wheel-container">
-    <canvas id="wheel" width="400" height="400"></canvas>
-    <div class="arrow"></div>
-  </div>
+  <main class="app">
+    <section class="card">
+      <h1>40-50 ÎÇ®ÏÑ± ÌôàÌä∏ ÏΩîÏπò</h1>
+      <p class="subtitle">ÏïàÎìúÎ°úÏù¥Îìú Ïä§ÎßàÌä∏Ìè∞(PWA ÏÑ§Ïπò Í∞ÄÎä•)ÏóêÏÑú Î∞îÎ°ú ÏÇ¨Ïö©ÌïòÎäî ÏöîÏùºÎ≥Ñ Îß®ÏÜê Ïö¥Îèô Ïï±</p>
+      <span id="dayBadge" class="day-badge"></span>
 
-  <div id="controls">
-    <button id="spinBtn">ÎèåÎ¶¨Í∏∞</button>
-    <input id="menuInput" type="text" placeholder="ÏùåÏãù Ïù¥Î¶Ñ ÏûÖÎ†•" />
-    <button id="addMenuBtn">Î©îÎâ¥ Ï∂îÍ∞Ä</button>
-  </div>
+      <article class="goal">
+        <h2 id="focusTitle"></h2>
 
-  <div id="popup">
-    <div id="popupContent">
-      <h2 id="resultText">Ïò§Îäò Ï†êÏã¨Î©îÎâ¥Îäî Î¨¥Ïóá?</h2>
-      <button onclick="closePopup()">ÌôïÏù∏</button>
+        <div class="progress-wrap">
+          <div class="progress-row">
+            <span>Ï≤¥ÌÅ¨ ÏßÑÌñâÎ•†</span>
+            <strong id="progressText">0%</strong>
+          </div>
+          <progress id="progressBar" class="progress" max="100" value="0"></progress>
+        </div>
+
+        <ul id="workoutList"></ul>
+        <p id="goalText" class="small"></p>
+      </article>
+      <p id="statusText" class="status"></p>
+    </section>
+
+    <section class="card">
+      <div id="rewardBox" class="reward">
+        <strong>üéÅ Î≥¥ÏÉÅ: ÏõêÏñ¥ÎØº ÏÜåÌÜµ ÏòÅÏñ¥ ÎåÄÌôî</strong>
+        <p id="dialogueTitle" class="small"></p>
+        <ol id="dialogueList" class="dialogue"></ol>
+      </div>
+    </section>
+  </main>
+
+  <div class="actions">
+    <div class="actions-inner">
+      <button id="completeBtn" class="btn btn-primary">Ïò§Îäò Î™©Ìëú ÏôÑÎ£åÌïòÍ∏∞ ‚úÖ</button>
+      <button id="resetBtn" class="btn btn-secondary">Ïò§Îäò ÏôÑÎ£å Í∏∞Î°ù Ï¥àÍ∏∞Ìôî</button>
     </div>
   </div>
 
-  <audio id="cheerSound" src="https://www.soundjay.com/human/cheering-01.mp3" preload="auto"></audio>
-
   <script>
-    const canvas = document.getElementById('wheel');
-    const ctx = canvas.getContext('2d');
-    const spinBtn = document.getElementById('spinBtn');
-    const popup = document.getElementById('popup');
-    const resultText = document.getElementById('resultText');
-    const cheerSound = document.getElementById('cheerSound');
-    const addMenuBtn = document.getElementById('addMenuBtn');
-    const menuInput = document.getElementById('menuInput');
-
-    if (!localStorage.getItem('lunchMenus')) {
-      localStorage.setItem('lunchMenus', JSON.stringify(['ÍπÄÏπòÏ∞åÍ∞ú', 'ÎêúÏû•Ï∞åÍ∞ú', 'ÎπÑÎπîÎ∞•']));
-    }
-
-    let menus = JSON.parse(localStorage.getItem('lunchMenus'));
-    const colors = ['#FF9999', '#FFD699', '#99FF99', '#99FFFF', '#9999FF', '#D699FF', '#FF99CC', '#FFB366'];
-    let currentRotation = 0;
-
-    function saveMenus() {
-      localStorage.setItem('lunchMenus', JSON.stringify(menus));
-    }
-
-    function drawWheel() {
-      const slice = 2 * Math.PI / menus.length;
-      const radius = canvas.width / 2;
-      ctx.clearRect(0, 0, canvas.width, canvas.height);
-      for (let i = 0; i < menus.length; i++) {
-        ctx.beginPath();
-        ctx.fillStyle = colors[i % colors.length];
-        ctx.moveTo(radius, radius);
-        ctx.arc(radius, radius, radius, slice * i, slice * (i + 1));
-        ctx.lineTo(radius, radius);
-        ctx.fill();
-
-        ctx.save();
-        ctx.translate(radius, radius);
-        ctx.rotate(slice * (i + 0.5));
-        ctx.textAlign = 'center';
-        ctx.fillStyle = '#000';
-        ctx.font = `${canvas.width / 25}px Arial`;
-        ctx.fillText(menus[i], radius * 0.6, 5);
-        ctx.restore();
+    const plans = {
+      0: {
+        day: 'ÏùºÏöîÏùº',
+        focus: 'ÌöåÎ≥µ & Í∞ÄÎèôÏÑ±',
+        workouts: ['Í≥†ÏñëÏù¥-ÏÜå ÏûêÏÑ∏ 10Ìöå √ó 2ÏÑ∏Ìä∏', 'Ï†ÑÏã† Ïä§Ìä∏Î†àÏπ≠ 12Î∂Ñ', 'Í∞ÄÎ≤ºÏö¥ Í±∑Í∏∞ 20Î∂Ñ'],
+        goal: 'Î™∏ÏùÑ ÌöåÎ≥µÏãúÏºú Îã§Ïùå Ï£º Ïö¥Îèô Ìö®Ïú®ÏùÑ ÎÜíÏûÖÎãàÎã§.'
+      },
+      1: {
+        day: 'ÏõîÏöîÏùº',
+        focus: 'Í∞ÄÏä¥ ¬∑ ÏÇºÎëê',
+        workouts: ['Î¨¥Î¶é/Í∏∞Î≥∏ Ìë∏ÏãúÏóÖ 12Ìöå √ó 4ÏÑ∏Ìä∏', 'ÏùòÏûê Îî•Ïä§ 10Ìöå √ó 3ÏÑ∏Ìä∏', 'ÌîåÎû≠ÌÅ¨ 40Ï¥à √ó 3ÏÑ∏Ìä∏'],
+        goal: 'Ìò∏Ìù°ÏùÑ Ïú†ÏßÄÌïòÎ©∞ ÏÑ∏Ìä∏ Í∞Ñ Ìú¥ÏãùÏùÄ 60Ï¥àÎ•º ÎÑòÍ∏∞ÏßÄ ÏïäÏäµÎãàÎã§.'
+      },
+      2: {
+        day: 'ÌôîÏöîÏùº',
+        focus: 'ÌïòÏ≤¥ ¬∑ ÏΩîÏñ¥',
+        workouts: ['Ïä§ÏøºÌä∏ 18Ìöå √ó 4ÏÑ∏Ìä∏', 'Îü∞ÏßÄ(Ï¢å/Ïö∞) 12Ìöå √ó 3ÏÑ∏Ìä∏', 'Îç∞ÎìúÎ≤ÑÍ∑∏ 12Ìöå √ó 3ÏÑ∏Ìä∏'],
+        goal: 'Î¨¥Î¶éÎ≥¥Îã§ ÏóâÎç©Ïù¥ Î®ºÏ†Ä Îí§Î°ú ÎπºÎ©∞ ÌïòÏ≤¥Î•º ÏïàÏ†ÑÌïòÍ≤å ÏûêÍ∑πÌï©ÎãàÎã§.'
+      },
+      3: {
+        day: 'ÏàòÏöîÏùº',
+        focus: 'Îì± ¬∑ Ïù¥Îëê(Îß®ÏÜê Î≥ÄÌòï)',
+        workouts: ['ÏàòÍ±¥ Î°úÏö∞ 15Ìöå √ó 4ÏÑ∏Ìä∏', 'Î¶¨Î≤ÑÏä§ Ïä§ÎÖ∏Ïö∞ÏóîÏ†§ 12Ìöå √ó 3ÏÑ∏Ìä∏', 'ÏäàÌçºÎß® ÌôÄÎìú 30Ï¥à √ó 3ÏÑ∏Ìä∏'],
+        goal: 'Îì± ÏàòÏ∂ïÏùÑ ÎäêÎÅºÎ©∞ Ï≤úÏ≤úÌûà ÎãπÍ∏∞Í≥† Ï≤úÏ≤úÌûà ÎÇ¥Î†§ÏòµÎãàÎã§.'
+      },
+      4: {
+        day: 'Î™©ÏöîÏùº',
+        focus: 'Ïñ¥Íπ® ¬∑ ÏΩîÏñ¥ ÏïàÏ†ïÌôî',
+        workouts: ['ÌååÏù¥ÌÅ¨ Ìë∏ÏãúÏóÖ 10Ìöå √ó 4ÏÑ∏Ìä∏', 'ÏÇ¨Ïù¥Îìú ÌîåÎû≠ÌÅ¨ 30Ï¥à √ó 3ÏÑ∏Ìä∏', 'Î≤ÑÎìúÎèÖ 12Ìöå √ó 3ÏÑ∏Ìä∏'],
+        goal: 'Î™©Ïóê ÌûòÏùÑ ÎπºÍ≥† Í≤¨Í∞ë ÏïàÏ†ïÏóê ÏßëÏ§ëÌï©ÎãàÎã§.'
+      },
+      5: {
+        day: 'Í∏àÏöîÏùº',
+        focus: 'Ï†ÑÏã† ÏÑúÌÇ∑',
+        workouts: ['Î≤ÑÌîº 8Ìöå', 'Ìë∏ÏãúÏóÖ 10Ìöå', 'Ïä§ÏøºÌä∏ 15Ìöå', 'ÎßàÏö¥Ìã¥ÌÅ¥ÎùºÏù¥Î®∏ 30Ï¥à (4ÎùºÏö¥Îìú)'],
+        goal: 'ÎùºÏö¥Îìú ÏÇ¨Ïù¥ 90Ï¥à Ìú¥ÏãùÏúºÎ°ú Ïã¨Ìèê Í∏∞Îä•ÍπåÏßÄ Ìï®Íªò Í∞ïÌôîÌï©ÎãàÎã§.'
+      },
+      6: {
+        day: 'ÌÜ†ÏöîÏùº',
+        focus: 'Ïú†ÏÇ∞ÏÜå ¬∑ Î≥µÎ∂Ä',
+        workouts: ['Ï†úÏûêÎ¶¨ Í±∑Í∏∞/Ï°∞ÍπÖ 25Î∂Ñ', 'Î†àÍ∑∏Î†àÏù¥Ï¶à 12Ìöå √ó 3ÏÑ∏Ìä∏', 'ÌûêÌÑ∞Ïπò 20Ìöå √ó 3ÏÑ∏Ìä∏'],
+        goal: 'Î¨¥Î¶¨ÌïòÏßÄ ÏïäÎäî Í∞ïÎèÑÎ°ú Íæ∏Ï§ÄÌï®ÏùÑ ÎßåÎì≠ÎãàÎã§.'
       }
-    }
+    };
 
-    function createConfetti() {
-      for (let i = 0; i < 50; i++) {
-        const confetti = document.createElement('div');
-        confetti.classList.add('confetti');
-        confetti.style.left = Math.random() * 100 + 'vw';
-        confetti.style.top = '-10px';
-        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
-        document.body.appendChild(confetti);
-        setTimeout(() => confetti.remove(), 1500);
+    const dialogues = [
+      {
+        title: 'Ïπ¥ÌéòÏóêÏÑú Ïä§Î™∞ÌÜ†ÌÅ¨',
+        lines: [
+          'A: Hi, is this seat taken?',
+          'B: No, please have a seat.',
+          'A: Thanks. Do you come here often?',
+          'B: Yeah, the coffee is great and people are friendly.'
+        ]
+      },
+      {
+        title: 'Ï∂úÏû• Ï§ë Í∏∏ Î¨ªÍ∏∞',
+        lines: [
+          'A: Excuse me, how can I get to City Hall?',
+          'B: Go straight for two blocks, then turn left.',
+          'A: Is it far from here?',
+          'B: Not really, about a ten-minute walk.'
+        ]
+      },
+      {
+        title: 'Ìó¨Ïä§ Í¥ÄÎ†® ÎåÄÌôî',
+        lines: [
+          'A: You look energetic these days. Working out?',
+          'B: Yes, I do home workouts five days a week.',
+          'A: Nice! What keeps you motivated?',
+          'B: Small daily goals and visible progress.'
+        ]
       }
-    }
+    ];
+
+    const dayBadge = document.getElementById('dayBadge');
+    const focusTitle = document.getElementById('focusTitle');
+    const workoutList = document.getElementById('workoutList');
+    const goalText = document.getElementById('goalText');
+    const statusText = document.getElementById('statusText');
+    const progressBar = document.getElementById('progressBar');
+    const progressText = document.getElementById('progressText');
+    const completeBtn = document.getElementById('completeBtn');
+    const resetBtn = document.getElementById('resetBtn');
+    const rewardBox = document.getElementById('rewardBox');
+    const dialogueTitle = document.getElementById('dialogueTitle');
+    const dialogueList = document.getElementById('dialogueList');
+
+    const today = new Date();
+    const dayIndex = today.getDay();
+    const todayPlan = plans[dayIndex];
+    const date = today.toISOString().slice(0, 10);
+    const dateKey = `workout_done_${date}`;
+    const checkKey = `workout_checks_${date}`;
 
-    function createBursts() {
-      for (let i = 0; i < 10; i++) {
-        const burst = document.createElement('div');
-        burst.classList.add('burst');
-        burst.style.left = Math.random() * 100 + 'vw';
-        burst.style.top = Math.random() * 100 + 'vh';
-        burst.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 60%)`;
-        document.body.appendChild(burst);
-        setTimeout(() => burst.remove(), 800);
+    function loadChecks() {
+      try {
+        return JSON.parse(localStorage.getItem(checkKey)) || [];
+      } catch {
+        return [];
       }
     }
 
-    function spinWheel() {
-      const totalRotation = 360 * 10 + Math.floor(Math.random() * 360);
-      const duration = 5000;
-      const start = performance.now();
-      const initialRotation = currentRotation;
-
-      function animate(time) {
-        const elapsed = time - start;
-        const progress = Math.min(elapsed / duration, 1);
-        const eased = 1 - Math.pow(1 - progress, 3);
-        currentRotation = initialRotation + eased * totalRotation;
-        canvas.style.transform = `rotate(${currentRotation}deg)`;
-
-        if (progress < 1) {
-          requestAnimationFrame(animate);
-        } else {
-          const selectedAngle = (360 - (currentRotation % 360)) % 360;
-          const index = Math.floor(selectedAngle / (360 / menus.length));
-          const selectedMenu = menus[index];
-          showResult(menus[index]);
-        }
-      }
-      requestAnimationFrame(animate);
+    function saveChecks(checks) {
+      localStorage.setItem(checkKey, JSON.stringify(checks));
+    }
+
+    function renderProgress(checks) {
+      const total = todayPlan.workouts.length;
+      const done = checks.filter(Boolean).length;
+      const percent = Math.round((done / total) * 100);
+      progressBar.value = percent;
+      progressText.textContent = `${percent}% (${done}/${total})`;
     }
 
-    function showResult(menu) {
-      resultText.textContent = `Ïò§Îäò Ï†êÏã¨Î©îÎâ¥Îäî ${menu}ÏûÖÎãàÎã§!`;
-      popup.style.visibility = 'visible';
-      cheerSound.play();
-      createConfetti();
-      createBursts();
+    function renderPlan() {
+      const checks = loadChecks();
+      dayBadge.textContent = `${todayPlan.day} ¬∑ Ïò§ÎäòÏùò Î∂ÄÏúÑ: ${todayPlan.focus}`;
+      focusTitle.textContent = 'Ïò§Îäò Ïö¥Îèô Î£®Ìã¥';
+      goalText.textContent = `Î™©Ìëú: ${todayPlan.goal}`;
+      workoutList.innerHTML = '';
+      todayPlan.workouts.forEach((item, idx) => {
+        const li = document.createElement('li');
+        const id = `w-${idx}`;
+        li.innerHTML = `<input id="${id}" type="checkbox" ${checks[idx] ? 'checked' : ''}><label for="${id}">${item}</label>`;
+        const checkbox = li.querySelector('input');
+        checkbox.addEventListener('change', () => {
+          checks[idx] = checkbox.checked;
+          saveChecks(checks);
+          renderProgress(checks);
+        });
+        workoutList.appendChild(li);
+      });
+      renderProgress(checks);
     }
 
-    function closePopup() {
-      popup.style.visibility = 'hidden';
+    function showReward() {
+      const pick = dialogues[Math.floor(Math.random() * dialogues.length)];
+      dialogueTitle.textContent = `Ïò§ÎäòÏùò ÌöåÌôî Ï£ºÏ†ú: ${pick.title}`;
+      dialogueList.innerHTML = '';
+      pick.lines.forEach(line => {
+        const li = document.createElement('li');
+        li.textContent = line;
+        dialogueList.appendChild(li);
+      });
+      rewardBox.classList.add('show');
     }
 
-    addMenuBtn.addEventListener('click', () => {
-      const newMenu = menuInput.value.trim();
-      if (newMenu) {
-        menus.push(newMenu);
-        saveMenus();
-        drawWheel();
-        menuInput.value = '';
+    function applyCompletionState() {
+      const isDone = localStorage.getItem(dateKey) === 'done';
+      if (isDone) {
+        completeBtn.disabled = true;
+        completeBtn.textContent = 'Ïò§Îäò Î™©Ìëú ÏôÑÎ£åÎê® üéâ';
+        statusText.textContent = 'ÌõåÎ•≠Ìï©ÎãàÎã§! Ïò§Îäò Ïö¥ÎèôÏùÄ Ïù¥ÎØ∏ ÏôÑÎ£åÌñàÏñ¥Ïöî.';
+        showReward();
+      } else {
+        completeBtn.disabled = false;
+        completeBtn.textContent = 'Ïò§Îäò Î™©Ìëú ÏôÑÎ£åÌïòÍ∏∞ ‚úÖ';
+        statusText.textContent = 'ÌïòÎã® ÏôÑÎ£å Î≤ÑÌäºÏúºÎ°ú Î≥¥ÏÉÅ ÎåÄÌôîÎ•º Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî.';
+        rewardBox.classList.remove('show');
       }
+    }
+
+    completeBtn.addEventListener('click', () => {
+      localStorage.setItem(dateKey, 'done');
+      applyCompletionState();
+      window.scrollTo({ top: 0, behavior: 'smooth' });
     });
 
-    canvas.addEventListener('click', function (e) {
-      const rect = canvas.getBoundingClientRect();
-      const x = e.clientX - rect.left - canvas.width / 2;
-      const y = e.clientY - rect.top - canvas.height / 2;
-      const angle = (Math.atan2(y, x) + 2 * Math.PI) % (2 * Math.PI);
-      const adjustedAngle = (angle - ((currentRotation % 360) * Math.PI / 180) + 2 * Math.PI) % (2 * Math.PI);
-      const index = Math.floor(adjustedAngle / (2 * Math.PI / menus.length));
-      const selectedMenu = menus[index];
-      if (confirm(`'${selectedMenu}' Î©îÎâ¥Î•º ÏÇ≠Ï†úÌï†ÍπåÏöî?`)) {
-        menus.splice(index, 1);
-        saveMenus();
-        drawWheel();
-      }
+    resetBtn.addEventListener('click', () => {
+      localStorage.removeItem(dateKey);
+      localStorage.removeItem(checkKey);
+      renderPlan();
+      applyCompletionState();
     });
 
-    drawWheel();
-    spinBtn.addEventListener('click', spinWheel);
+    renderPlan();
+    applyCompletionState();
+
+    if ('serviceWorker' in navigator) {
+      window.addEventListener('load', () => {
+        navigator.serviceWorker.register('sw.js').catch(() => {});
+      });
+    }
   </script>
 </body>
 </html>
